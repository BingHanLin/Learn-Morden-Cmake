1. create and link a static library.
2. using out of source build.

https://stackoverflow.com/questions/37128555/getting-cmake-to-build-shared-library-for-msvc